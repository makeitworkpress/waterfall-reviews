!function e(t,r,a){function n(o,i){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!i&&u)return u(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return n(r||e)},l,l.exports,e,t,r,a)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(e,t,r){"use strict";e("./utils");var a={components:{charts:e("./components/charts"),comments:e("./components/comments"),filter:e("./components/filter"),tables:e("./components/tables")},initialize:function(){for(var e in this.components)this.components[e].initialize()}};window.App=a,jQuery(document).ready(function(){a.initialize()})},{"./components/charts":2,"./components/comments":3,"./components/filter":4,"./components/tables":5,"./utils":6}],2:[function(e,t,r){var a=e("./../vendor/randomcolor"),n=e("./../utils"),s={chart:!1,data:{normal:[],weighted:[]},initialize:function(){var e=this;jQuery(".wfr-charts").each(function(){var t=jQuery(this).find(".wfr-charts-chart").get(0),r=jQuery(this).attr("id");r&&void 0!==window["chart"+r]&&(e.data=window["chart"+r],e.renderChart(e.data.normal,t))}),jQuery(".wfr-chart-selector select").change(function(){e.listener(this)}),jQuery(".wfr-charts-weight").submit(function(e){e.preventDefault()}),jQuery(".wfr-charts-normal").click(function(t){t.preventDefault();var r=jQuery(this).closest(".wfr-charts").find(".wfr-charts-chart").get(0);jQuery(this).addClass("active"),jQuery(this).next(".wfr-charts-weighted").removeClass("active"),e.renderChart(e.data.normal,r)}),jQuery(".wfr-charts-weighted").click(function(t){t.preventDefault();var r=jQuery(this).closest(".wfr-charts").find(".wfr-charts-chart").get(0);jQuery(this).addClass("active"),jQuery(this).prev(".wfr-charts-normal").removeClass("active"),e.renderChart(e.data.weighted,r)})},listener:function(e){if(jQuery(e).val()){var t=jQuery(e).closest(".wfr-charts").find(".wfr-charts-chart").get(0),r=this,a=jQuery(e).closest(".wfr-charts").find(".wfr-charts-weight");a.length>0&&(jQuery(a).find(".wfr-charts-normal").addClass("active"),jQuery(a).find(".wfr-charts-weighted").removeClass("active")),n.ajax({beforeSend:function(){jQuery(t).addClass("components-loading")},complete:function(){jQuery(t).removeClass("components-loading")},data:{action:"getChartData",categories:jQuery(e).closest(".wfr-chart-selector").data("categories"),key:jQuery(e).val(),include:jQuery(e).closest(".wfr-chart-selector").data("include"),nonce:wfr.nonce,tags:jQuery(e).closest(".wfr-chart-selector").data("tags")},success:function(a){wfr.debug&&console.log(a),a.success&&(r.data=a.data,jQuery(e).closest(".wfr-charts").addClass("wfr-charts-loaded"),r.renderChart(a.data.normal,t))}})}},renderChart:function(e,t){var r={backgroundColor:[],barThickness:25,data:[],label:e.dataSet.label},n=[];for(var s in e.dataSet.data){var o=a(),i=parseFloat(e.dataSet.data[s]);r.backgroundColor.push(o),r.data.push(i)}n.push(r),this.chart&&this.chart.destroy(),this.chart=new Chart(t,{data:{datasets:n,labels:e.labels},options:{scales:{xAxes:[{ticks:{beginAtZero:!0}}]}},type:"horizontalBar"})}};t.exports=s},{"./../utils":6,"./../vendor/randomcolor":7}],3:[function(e,t,r){var a=e("./../utils"),n={initialize:function(){jQuery(".comment-form-rating input").change(function(){a.rangeValue(this)}),jQuery("#wfr-reply").change(function(){this.checked?jQuery(this).closest(".comment-form-reply").prevAll(".comment-form-rating").slideUp():jQuery(this).closest(".comment-form-reply").prevAll(".comment-form-rating").slideDown()})}};t.exports=n},{"./../utils":6}],4:[function(e,t,r){var a=e("./../utils"),n={arguments:{},currentFilter:null,page:0,initialize:function(){var e=this;jQuery(".wfr-filter").each(function(){e.listener(this)}),this.ratingSlider()},filter:function(e){this.arguments=new FormData(jQuery(e).get(0)),this.arguments.append("nonce",wfr.nonce),this.arguments.append("action","filterReviews");var t=jQuery(e).data("target");this.page&&(this.arguments.append("page",this.page),this.page=0),a.ajax({beforeSend:function(){jQuery('div[data-id="'+t+'"]').addClass("components-loading")},complete:function(){jQuery('div[data-id="'+t+'"]').removeClass("components-loading")},contentType:!1,data:this.arguments,processData:!1,success:function(e){if(wfr.debug&&console.log(e),e.success&&(void 0!==e.data.html&&(jQuery('div[data-id="'+t+'"]').replaceWith(e.data.html),"undefined"!=typeof lazyload?lazyload.update():"undefined"!=typeof wpOptimizeLazyLoad?wpOptimizeLazyLoad.update():"undefined"!=typeof wpComponentsLazyLoad&&wpComponentsLazyLoad.update()),void 0!==e.data.posts)){var r=jQuery('div[data-id="'+t+'"]').closest(".atom-tabs-content").find(".wfr-chart-selector select").get(0);App.components.charts.posts=e.data.posts,App.components.charts.listener(r)}}})},listener:function(e){var t=this;jQuery(e).hasClass("wfr-instant-filter")&&jQuery(e).find(":input").change(function(r){t.filter(e)}),jQuery(e).submit(function(r){t.filter(e),r.preventDefault()})},ratingSlider:function(){a.rangeValue(".wfr-filter-rating input"),jQuery(".wfr-filter-rating input").change(function(){a.rangeValue(this)})}};t.exports=n},{"./../utils":6}],5:[function(e,t,r){var a=e("./../utils"),n={reviews:[],initialize:function(){var e=this;jQuery(document).on("click",".wfr-tables-form li",function(){var t=this.dataset.target;if(jQuery(this).toggleClass("active"),e.reviews.includes(t))for(var r=e.reviews.length-1;r>=0;r--)e.reviews[r]===t&&e.reviews.splice(r,1);else e.reviews.push(t);e.loadTables(this)}),jQuery(".wfr-tables-form").submit(function(e){e.preventDefault()})},loadTables:function(e){if(!(this.reviews.length<2)){var t=jQuery(e).closest(".wfr-tables-form"),r=jQuery(t).next(".wfr-tables-view");a.ajax({beforeSend:function(){jQuery(r).addClass("components-loading")},complete:function(){jQuery(r).removeClass("components-loading")},data:{action:"loadTables",attributes:jQuery(t).data("attributes"),categories:jQuery(t).data("categories"),groups:jQuery(t).data("groups"),reviews:this.reviews,nonce:wfr.nonce,properties:jQuery(t).data("properties"),tags:jQuery(t).data("tags"),view:jQuery(t).data("view"),weight:jQuery(t).data("weight")},success:function(e){wfr.debug&&console.log(e),e.success&&jQuery(r).replaceWith(jQuery(e.data).find(".wfr-tables-view"))}})}}};t.exports=n},{"./../utils":6}],6:[function(e,t,r){t.exports.ajax=function(e){return(e=e).data.nonce=wfr.nonce,e.type="POST",e.url=wfr.ajaxUrl,jQuery.ajax(e)},t.exports.rangeValue=function(e){var t=jQuery(e).data("style"),r=jQuery(e).val();""!==t&&("percentages"===t&&(r=parseInt(r/jQuery(e).attr("max")*100)+"%"),jQuery(e).next(".wfr-range-value").html(r))}},{}],7:[function(e,t,r){!function(e,a){if("object"==typeof r){var n=a();"object"==typeof t&&t&&t.exports&&(r=t.exports=n),r.randomColor=n}else"function"==typeof define&&define.amd?define([],a):e.randomColor=a()}(this,function(){var e=null,t={};s("monochrome",null,[[0,0],[100,0]]),s("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),s("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),s("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),s("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),s("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),s("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),s("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var r=function(s){if(void 0!==(s=s||{}).seed&&null!==s.seed&&s.seed===parseInt(s.seed,10))e=s.seed;else if("string"==typeof s.seed)e=function(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}(s.seed);else{if(void 0!==s.seed&&null!==s.seed)throw new TypeError("The seed value must be an integer or string");e=null}var u,c;if(null!==s.count&&void 0!==s.count){var l=s.count,f=[];for(s.count=null;l>f.length;)e&&s.seed&&(s.seed+=1),f.push(r(s));return s.count=l,f}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return i(e);case"hsl":var r=i(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var a=i(e),n=t.alpha||Math.random();return"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+n+")";case"rgbArray":return o(e);case"rgb":var s=o(e);return"rgb("+s.join(", ")+")";case"rgba":var u=o(e),n=t.alpha||Math.random();return"rgba("+u.join(", ")+", "+n+")";default:return function(e){var t=o(e);function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t[0])+r(t[1])+r(t[2])}(e)}}([u=function(e){var r=n(function(e){if("number"==typeof parseInt(e)){var r=parseInt(e);if(r<360&&r>0)return[r,r]}if("string"==typeof e)if(t[e]){var a=t[e];if(a.hueRange)return a.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var n=function(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,r=parseInt(e.substr(2,2),16)/255,a=parseInt(e.substr(4,2),16)/255,n=Math.max(t,r,a),s=n-Math.min(t,r,a),o=n?s/n:0;switch(n){case t:return[(r-a)/s%6*60||0,o,n];case r:return[60*((a-t)/s+2)||0,o,n];case a:return[60*((t-r)/s+4)||0,o,n]}}(e)[0];return[n,n]}return[0,360]}(e.hue));r<0&&(r=360+r);return r}(s),c=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return n([0,100]);var r=(i=e,a(i).saturationRange),s=r[0],o=r[1];var i;switch(t.luminosity){case"bright":s=55;break;case"dark":s=o-10;break;case"light":o=55}return n([s,o])}(u,s),function(e,t,r){var s=function(e,t){for(var r=a(e).lowerBounds,n=0;n<r.length-1;n++){var s=r[n][0],o=r[n][1],i=r[n+1][0],u=r[n+1][1];if(t>=s&&t<=i){var c=(u-o)/(i-s),l=o-c*s;return c*t+l}}return 0}(e,t),o=100;switch(r.luminosity){case"dark":o=s+20;break;case"light":s=(o+s)/2;break;case"random":s=0,o=100}return n([s,o])}(u,c,s)],s)};function a(e){e>=334&&e<=360&&(e-=360);for(var r in t){var a=t[r];if(a.hueRange&&e>=a.hueRange[0]&&e<=a.hueRange[1])return t[r]}return"Color not found"}function n(t){if(null===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var r=t[1]||1,a=t[0]||0,n=(e=(9301*e+49297)%233280)/233280;return Math.floor(a+n*(r-a))}function s(e,r,a){var n=a[0][0],s=a[a.length-1][0],o=a[a.length-1][1],i=a[0][1];t[e]={hueRange:r,lowerBounds:a,saturationRange:[n,s],brightnessRange:[o,i]}}function o(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,a=e[2]/100,n=Math.floor(6*t),s=6*t-n,o=a*(1-r),i=a*(1-s*r),u=a*(1-(1-s)*r),c=256,l=256,f=256;switch(n){case 0:c=a,l=u,f=o;break;case 1:c=i,l=a,f=o;break;case 2:c=o,l=a,f=u;break;case 3:c=o,l=i,f=a;break;case 4:c=u,l=o,f=a;break;case 5:c=a,l=o,f=i}return[Math.floor(255*c),Math.floor(255*l),Math.floor(255*f)]}function i(e){var t=e[0],r=e[1]/100,a=e[2]/100,n=(2-r)*a;return[t,Math.round(r*a/(n<1?n:2-n)*1e4)/100,n/2*100]}return r})},{}]},{},[1]);